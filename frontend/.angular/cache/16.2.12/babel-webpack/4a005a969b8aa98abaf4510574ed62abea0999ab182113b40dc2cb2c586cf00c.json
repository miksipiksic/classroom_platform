{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar jitter_factory_1 = require(\"../jitter/jitter.factory\");\nvar Delay = /** @class */function () {\n  function Delay(options) {\n    this.options = options;\n    this.attempt = 0;\n  }\n  Delay.prototype.apply = function () {\n    var _this = this;\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, _this.jitteredDelay);\n    });\n  };\n  Delay.prototype.setAttemptNumber = function (attempt) {\n    this.attempt = attempt;\n  };\n  Object.defineProperty(Delay.prototype, \"jitteredDelay\", {\n    get: function () {\n      var jitter = jitter_factory_1.JitterFactory(this.options);\n      return jitter(this.delay);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Delay.prototype, \"delay\", {\n    get: function () {\n      var constant = this.options.startingDelay;\n      var base = this.options.timeMultiple;\n      var power = this.numOfDelayedAttempts;\n      var delay = constant * Math.pow(base, power);\n      return Math.min(delay, this.options.maxDelay);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Delay.prototype, \"numOfDelayedAttempts\", {\n    get: function () {\n      return this.attempt;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Delay;\n}();\nexports.Delay = Delay;","map":{"version":3,"names":["Object","defineProperty","exports","value","jitter_factory_1","require","Delay","options","attempt","prototype","apply","_this","Promise","resolve","setTimeout","jitteredDelay","setAttemptNumber","get","jitter","JitterFactory","delay","enumerable","configurable","constant","startingDelay","base","timeMultiple","power","numOfDelayedAttempts","Math","pow","min","maxDelay"],"sources":["C:/Users/vm200325d/Documents/faks/pia/pia_projekat/frontend/node_modules/exponential-backoff/dist/delay/delay.base.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jitter_factory_1 = require(\"../jitter/jitter.factory\");\nvar Delay = /** @class */ (function () {\n    function Delay(options) {\n        this.options = options;\n        this.attempt = 0;\n    }\n    Delay.prototype.apply = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return setTimeout(resolve, _this.jitteredDelay); });\n    };\n    Delay.prototype.setAttemptNumber = function (attempt) {\n        this.attempt = attempt;\n    };\n    Object.defineProperty(Delay.prototype, \"jitteredDelay\", {\n        get: function () {\n            var jitter = jitter_factory_1.JitterFactory(this.options);\n            return jitter(this.delay);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Delay.prototype, \"delay\", {\n        get: function () {\n            var constant = this.options.startingDelay;\n            var base = this.options.timeMultiple;\n            var power = this.numOfDelayedAttempts;\n            var delay = constant * Math.pow(base, power);\n            return Math.min(delay, this.options.maxDelay);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Delay.prototype, \"numOfDelayedAttempts\", {\n        get: function () {\n            return this.attempt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Delay;\n}());\nexports.Delay = Delay;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,gBAAgB,GAAGC,OAAO,CAAC,0BAA0B,CAAC;AAC1D,IAAIC,KAAK,GAAG,aAAe,YAAY;EACnC,SAASA,KAAKA,CAACC,OAAO,EAAE;IACpB,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAG,CAAC;EACpB;EACAF,KAAK,CAACG,SAAS,CAACC,KAAK,GAAG,YAAY;IAChC,IAAIC,KAAK,GAAG,IAAI;IAChB,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAE;MAAE,OAAOC,UAAU,CAACD,OAAO,EAAEF,KAAK,CAACI,aAAa,CAAC;IAAE,CAAC,CAAC;EAC/F,CAAC;EACDT,KAAK,CAACG,SAAS,CAACO,gBAAgB,GAAG,UAAUR,OAAO,EAAE;IAClD,IAAI,CAACA,OAAO,GAAGA,OAAO;EAC1B,CAAC;EACDR,MAAM,CAACC,cAAc,CAACK,KAAK,CAACG,SAAS,EAAE,eAAe,EAAE;IACpDQ,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAIC,MAAM,GAAGd,gBAAgB,CAACe,aAAa,CAAC,IAAI,CAACZ,OAAO,CAAC;MACzD,OAAOW,MAAM,CAAC,IAAI,CAACE,KAAK,CAAC;IAC7B,CAAC;IACDC,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFtB,MAAM,CAACC,cAAc,CAACK,KAAK,CAACG,SAAS,EAAE,OAAO,EAAE;IAC5CQ,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAIM,QAAQ,GAAG,IAAI,CAAChB,OAAO,CAACiB,aAAa;MACzC,IAAIC,IAAI,GAAG,IAAI,CAAClB,OAAO,CAACmB,YAAY;MACpC,IAAIC,KAAK,GAAG,IAAI,CAACC,oBAAoB;MACrC,IAAIR,KAAK,GAAGG,QAAQ,GAAGM,IAAI,CAACC,GAAG,CAACL,IAAI,EAAEE,KAAK,CAAC;MAC5C,OAAOE,IAAI,CAACE,GAAG,CAACX,KAAK,EAAE,IAAI,CAACb,OAAO,CAACyB,QAAQ,CAAC;IACjD,CAAC;IACDX,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFtB,MAAM,CAACC,cAAc,CAACK,KAAK,CAACG,SAAS,EAAE,sBAAsB,EAAE;IAC3DQ,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAACT,OAAO;IACvB,CAAC;IACDa,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF,OAAOhB,KAAK;AAChB,CAAC,CAAC,CAAE;AACJJ,OAAO,CAACI,KAAK,GAAGA,KAAK"},"metadata":{},"sourceType":"script","externalDependencies":[]}